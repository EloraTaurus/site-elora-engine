<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Elora Engine - Status Demo</title>
  <style>
    :root {
      --bg: #0b0f1a;
      --panel: rgba(18, 24, 38, 0.85);
      --text: #e6edf7;
    }
    body {
      font-family: "Space Grotesk", system-ui, sans-serif;
      background: var(--bg) url('background.png') center/cover fixed no-repeat;
      color: var(--text);
      margin: 0;
    }
    body::before {
      content: "";
      position: fixed;
      inset: 0;
      background: rgba(8, 12, 20, 0.55);
      z-index: -1;
    }
    .wrap { max-width: 980px; margin: 48px auto; padding: 0 20px; }
    .card {
      background: var(--panel);
      border: 1px solid #1f2a3f;
      border-radius: 20px;
      padding: 24px;
      backdrop-filter: blur(12px);
    }
    .card.section { margin-top: 26px; }
    .muted { color: #aab6c9; }
    .pill-row { display: flex; flex-wrap: wrap; gap: 10px; margin-top: 12px; }
    .pill {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 6px 12px;
      border-radius: 999px;
      border: 1px solid #263149;
      background: #111725;
      font-size: 12px;
      color: #c7d2e5;
    }
    .pill .icon {
      width: 8px;
      height: 8px;
      border-radius: 50%;
      background: #22c55e;
      box-shadow: 0 0 10px rgba(34, 197, 94, 0.4);
    }
    ul { margin: 8px 0 0 18px; }
    a { color: #93c5fd; text-decoration: none; }
    .topbar {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 16px;
      margin-bottom: 30px;
    }
    .brand { display: flex; align-items: center; gap: 12px; }
    .brand-icon {
      width: 40px;
      height: 40px;
      border-radius: 12px;
      background: #0f172a;
      border: 1px solid #20304a;
      display: grid;
      place-items: center;
      overflow: hidden;
    }
    .brand-icon img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      display: block;
    }
    .hero { display: grid; grid-template-columns: 1.25fr 1fr; gap: 32px; margin-top: 24px; }
    .hero h1 { font-size: 42px; margin: 0 0 10px; }
    .hero p { font-size: 16px; line-height: 1.6; }
    .cta {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 10px 14px;
      border-radius: 999px;
      border: 1px solid #2b3a55;
      background: #0f1524;
      color: #dbe7ff;
      font-size: 13px;
    }
    .cards { display: grid; grid-template-columns: repeat(2, minmax(0, 1fr)); gap: 26px; margin-top: 26px; }
    .social-row { display: flex; gap: 10px; flex-wrap: wrap; justify-content: flex-end; }
    .social-icon {
      width: 32px;
      height: 32px;
      border-radius: 999px;
      border: 1px solid #25314a;
      background: #0f1524;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      color: #c7d2e5;
    }
    .social-icon svg { width: 16px; height: 16px; fill: currentColor; }
    .divider { height: 1px; background: #1d263a; margin: 24px 0; }
    .list-dot {
      display: inline-block;
      width: 8px;
      height: 8px;
      border-radius: 50%;
      margin-right: 8px;
      background: #7dd3fc;
    }
    .status-card { position: relative; overflow: hidden; }
    .status-row { display: flex; align-items: flex-start; gap: 18px; }
    .status-main { flex: 1; min-width: 0; }
    .status-pill {
      display: flex;
      align-items: center;
      gap: 8px;
      padding: 8px 12px;
      border-radius: 999px;
      border: 1px solid #263149;
      background: #0f1524;
      font-size: 12px;
      color: #c7d2e5;
      margin-bottom: 10px;
    }
    .status-pill .dot {
      width: 8px;
      height: 8px;
      border-radius: 50%;
      background: #22c55e;
      box-shadow: 0 0 10px rgba(34, 197, 94, 0.4);
    }
    .avatar {
      width: 170px;
      height: 200px;
      border-radius: 22px;
      border: 1px solid #2a3a56;
      background: linear-gradient(180deg, #1b2d49, #0f172a);
      object-fit: cover;
      display: block;
    }
    .chip-row { display: flex; flex-wrap: wrap; gap: 10px; }
    .chip {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 6px 10px;
      border-radius: 999px;
      border: 1px solid #25314a;
      background: #0f1524;
      font-size: 12px;
      color: #c7d2e5;
    }
    .note { font-size: 12px; color: #aab6c9; margin-top: 8px; }
    .demo-chat-wrap { position: fixed; right: 22px; bottom: 22px; z-index: 60; }
    .demo-chat-btn {
      height: 48px;
      min-width: 136px;
      border-radius: 999px;
      border: 1px solid #2f567f;
      background: #153050;
      color: #e6eef7;
      font-size: 13px;
      font-weight: 600;
      cursor: pointer;
      padding: 0 12px;
    }
    .demo-chat-modal {
      display: none;
      position: fixed;
      right: 22px;
      bottom: 82px;
      width: min(420px, calc(100vw - 32px));
      height: min(600px, calc(100vh - 112px));
      border: 1px solid #2b4f76;
      border-radius: 14px;
      background: #102038;
      overflow: hidden;
      grid-template-rows: auto 1fr auto;
      z-index: 61;
    }
    .demo-chat-modal.active { display: grid; }
    .demo-chat-head {
      padding: 10px 12px;
      border-bottom: 1px solid #2b4f76;
      display: flex;
      justify-content: space-between;
      align-items: center;
      background: #132c49;
    }
    .demo-chat-log { padding: 10px; overflow: auto; display: grid; gap: 10px; align-content: start; }
    .chat-msg {
      max-width: 86%;
      padding: 10px 12px;
      border-radius: 12px;
      border: 1px solid #263b59;
      font-size: 13px;
      line-height: 1.35;
      white-space: pre-wrap;
    }
    .chat-msg.user { justify-self: end; background: #1e3d68; }
    .chat-msg.assistant { justify-self: start; background: #141f31; }
    .demo-chat-foot { border-top: 1px solid #2b4f76; padding: 10px; background: #0f1d31; display: grid; gap: 8px; }
    .demo-chat-input { width: 100%; min-height: 70px; }
    input, textarea, button {
      width: 100%;
      padding: 10px 12px;
      border-radius: 10px;
      border: 1px solid #2e567f;
      background: #102039;
      color: #e6f2ff;
      font-family: inherit;
    }
    button { cursor: pointer; background: #153050; }
    button:hover { border-color: #55b8ff; background: #1a3f67; }
    @media (max-width: 860px) {
      .hero { grid-template-columns: 1fr; }
      .cards { grid-template-columns: 1fr; }
      .social-row { justify-content: flex-start; }
    }
  </style>
</head>
<body>
  <div class="wrap">
    <div class="topbar">
      <div class="brand">
        <div class="brand-icon"><img src="elora.png" alt="Elora avatar" onerror="this.onerror=null;this.src='admin/elora-avatar.svg';"></div>
        <strong>Elora Engine</strong>
      </div>
      <div class="social-row">
        <a class="social-icon" href="https://www.linkedin.com" target="_blank" rel="noopener noreferrer" aria-label="LinkedIn">
          <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M4.98 3.5A2.48 2.48 0 1 0 5 8.46 2.48 2.48 0 0 0 4.98 3.5zM3 9h4v12H3zM9 9h3.8v1.6h.1c.5-1 1.8-2.1 3.8-2.1 4.1 0 4.9 2.7 4.9 6.2V21h-4v-5.2c0-1.2 0-2.8-1.7-2.8-1.7 0-2 1.3-2 2.7V21H9z"/></svg>
        </a>
        <a class="social-icon" href="https://discord.com" target="_blank" rel="noopener noreferrer" aria-label="Discord">
          <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M20 4.5a16 16 0 0 0-4.1-1.3l-.2.4a11 11 0 0 1 3.1 1.2 12 12 0 0 0-3.8-1 10 10 0 0 0-.5 1 14 14 0 0 0-4.5 0 10 10 0 0 0-.5-1 12 12 0 0 0-3.8 1 11 11 0 0 1 3.1-1.2l-.2-.4A16 16 0 0 0 4 4.5C1.5 8 1 11.3 1.2 14.6a16 16 0 0 0 4.9 2.5l.7-1.1a10 10 0 0 1-1.5-.7l.3-.3a11 11 0 0 0 9 0l.3.3a10 10 0 0 1-1.5.7l.7 1.1a16 16 0 0 0 4.9-2.5C22.8 11.3 22.5 8 20 4.5zM8.5 13.5a1.6 1.6 0 1 1 0-3.2 1.6 1.6 0 0 1 0 3.2zm7 0a1.6 1.6 0 1 1 0-3.2 1.6 1.6 0 0 1 0 3.2z"/></svg>
        </a>
      </div>
    </div>

    <section class="hero">
      <div>
        <h1>Elora Engine</h1>
        <p class="muted">A security-first AI orchestration layer for controlled, auditable model execution.</p>
        <p><strong>Status:</strong> Public demo snapshot using safe mock telemetry for GitHub Pages.</p>
        <div style="margin-top:14px;">
          <a class="cta" href="admin/index.html">Open Admin Demo</a>
          <a class="cta" href="admin/index.html?tour=overview&step=0" style="margin-left:8px;">Start Guided Tour</a>
          <a class="cta" href="about.html" style="margin-left:8px;">Framework Overview</a>
        </div>
      </div>
      <div class="card status-card">
        <div class="status-row">
          <div class="status-main">
            <div class="status-pill"><span id="status-dot" class="dot"></span><span id="status-label">Operational</span></div>
            <h2 style="margin-top:0;">Engine Status</h2>
            <p id="status-detail" class="muted" style="margin-top:0;">All core services running.</p>
          </div>
          <img class="avatar" src="elora.png" alt="Elora avatar" onerror="this.onerror=null;this.src='admin/elora-avatar.svg';" />
        </div>
        <div class="chip-row" style="margin-top:16px;">
          <span id="chip-uptime" class="chip">Uptime: 21d 9h</span>
          <span id="chip-request" class="chip">Request: Idle</span>
          <span id="chip-components" class="chip">Core services online</span>
        </div>
        <div class="divider"></div>
        <div class="pill-row">
          <span class="pill"><span id="pill-status-dot" class="icon"></span>Status</span>
          <span class="pill"><span class="icon"></span>Security</span>
          <span class="pill"><span class="icon"></span>Observability</span>
          <span class="pill"><span id="pill-plugin-dot" class="icon"></span>Plugin</span>
        </div>
        <div class="note">AI orchestration is policy-controlled and operator-governed.</div>
        <div id="plugin-note" class="note">Plugin status: Online - just now</div>
      </div>
    </section>

    <div class="cards">
      <div class="card">
        <h3>Why Elora Engine exists</h3>
        <p>Elora Engine is designed for environments where AI execution must be controlled, observable, and accountable.</p>
        <p>Rather than embedding models directly into applications, Elora provides a dedicated control layer that enforces security policies, manages execution, and exposes clear operational state to operators.</p>
      </div>
      <div class="card">
        <h3>Security Posture</h3>
        <ul>
          <li><strong>Authentication:</strong> Enabled</li>
          <li><strong>Request signing:</strong> Enforced</li>
          <li><strong>Rate limiting:</strong> Active</li>
          <li><strong>Audit logging:</strong> Enabled</li>
          <li><strong>External exposure:</strong> Restricted</li>
          <li><strong>Model execution:</strong> Policy-controlled</li>
          <li><strong>Prompt boundaries:</strong> Enforced</li>
          <li><strong>External tools:</strong> Disabled by default</li>
        </ul>
      </div>
    </div>

    <div class="cards">
      <div class="card">
        <h3>Design principles</h3>
        <ul>
          <li><span class="list-dot"></span>Security-first by default</li>
          <li><span class="list-dot" style="background:#86efac;"></span>Human-in-the-loop control</li>
          <li><span class="list-dot" style="background:#a5b4fc;"></span>Deterministic execution</li>
          <li><span class="list-dot" style="background:#f9a8d4;"></span>Auditable state and actions</li>
          <li><span class="list-dot" style="background:#fdba74;"></span>Minimal public attack surface</li>
        </ul>
      </div>
      <div class="card">
        <h3>What this engine is not</h3>
        <p>Elora Engine is not a user-facing AI assistant or autonomous system. All execution is policy-controlled and operator-governed.</p>
        <p class="note">Evolving toward an AI-assisted infrastructure companion and controller.</p>
      </div>
    </div>

    <div class="card section">
      <h3>Direction and Exploration</h3>
      <p class="muted">This page outlines areas of active development and research focus. No guaranteed feature timelines are implied.</p>
      <ul>
        <li><span class="list-dot"></span>Enhanced retrieval and document reasoning</li>
        <li><span class="list-dot" style="background:#86efac;"></span>Observability and auditability improvements</li>
        <li><span class="list-dot" style="background:#a5b4fc;"></span>Carefully scoped action research (experimental)</li>
      </ul>
    </div>

    <div class="card section">
      <h3>Framework Overview</h3>
      <p class="muted">Read the full high-level overview of what Elora Engine is designed to do, the security model, and how the public demo differs from live deployment.</p>
      <div class="pill-row">
        <a class="pill" href="about.html"><span class="icon"></span>Open Framework Page</a>
      </div>
    </div>

    <div class="card section">
      <h3>Guided Walkthroughs</h3>
      <p class="muted">Use these walkthroughs to see what Elora Engine can do today and what it is building toward, with synthetic data only.</p>
      <p class="muted">Scope note: this demo is intentionally limited and does not represent the full feature depth, controls, or layout of the live engine.</p>
      <div class="pill-row">
        <a class="pill" href="admin/index.html?tour=overview&step=0"><span class="icon"></span>Full Snapshot Tour</a>
        <a class="pill" href="admin/index.html?tour=incident&step=0"><span class="icon"></span>Incident Response Tour</a>
        <a class="pill" href="admin/fabric.html?tour=fabric&step=0"><span class="icon"></span>Worker Fabric Tour</a>
        <a class="pill" href="admin/models.html?tour=roadmap&step=0"><span class="icon"></span>Build Direction Tour</a>
        <a class="pill" href="about.html"><span class="icon"></span>Framework Context</a>
      </div>
    </div>

    <div class="card section">
      <h3>What this engine does</h3>
      <ul>
        <li>Orchestrates AI model execution and retrieval pipelines.</li>
        <li>Enforces policies, guardrails, and execution limits.</li>
        <li>Provides observability, auditability, and operator control.</li>
      </ul>
    </div>

    <div class="section"><p class="muted">Elora Engine exposes system state intentionally. Administrative access is restricted.</p></div>
    <div class="section"><p class="muted">Demo snapshot for GitHub Pages - no live access.</p></div>
  </div>

  <div class="demo-chat-wrap">
    <button id="demo-chat-btn" class="demo-chat-btn" type="button">Open Demo Chat</button>
  </div>
  <section id="demo-chat-modal" class="demo-chat-modal" aria-hidden="true">
    <div class="demo-chat-head">
      <strong>Elora Chat (Demo)</strong>
      <button id="demo-chat-close" type="button" style="width:auto;">Close</button>
    </div>
    <div id="demo-chat-log" class="demo-chat-log"></div>
    <div class="demo-chat-foot">
      <textarea id="demo-chat-input" class="demo-chat-input" placeholder="Ask about status, security, models, or fabric..."></textarea>
      <button id="demo-chat-send" type="button">Send</button>
    </div>
  </section>

  <script>
    (function () {
      const state = {
        statusLabel: 'Operational',
        statusDetail: 'All core services running.',
        statusColor: '#22c55e',
        uptimeHours: 21 * 24 + 9,
        requestStates: ['Idle', 'Low', 'Active'],
        components: 'Core services online',
        pluginOnline: true,
        pluginLastSeenMinutes: 1,
        tick: 0
      };

      const statusLabel = document.getElementById('status-label');
      const statusDetail = document.getElementById('status-detail');
      const statusDot = document.getElementById('status-dot');
      const pillStatusDot = document.getElementById('pill-status-dot');
      const pillPluginDot = document.getElementById('pill-plugin-dot');
      const chipUptime = document.getElementById('chip-uptime');
      const chipRequest = document.getElementById('chip-request');
      const chipComponents = document.getElementById('chip-components');
      const pluginNote = document.getElementById('plugin-note');

      function formatUptime(hours) {
        const d = Math.floor(hours / 24);
        const h = hours % 24;
        return d + 'd ' + h + 'h';
      }

      function renderStatus() {
        const request = state.requestStates[state.tick % state.requestStates.length];
        statusLabel.textContent = state.statusLabel;
        statusDetail.textContent = state.statusDetail;
        statusDot.style.background = state.statusColor;
        pillStatusDot.style.background = state.statusColor;
        pillPluginDot.style.background = state.pluginOnline ? '#22c55e' : '#ef4444';
        chipUptime.textContent = 'Uptime: ' + formatUptime(state.uptimeHours + Math.floor(state.tick / 6));
        chipRequest.textContent = 'Request: ' + request;
        chipComponents.textContent = state.components;
        if (state.pluginOnline) {
          pluginNote.textContent = 'Plugin status: Online - ' + state.pluginLastSeenMinutes + ' min ago';
        } else {
          pluginNote.textContent = 'Plugin status: Offline - last seen 17 min ago';
        }
      }

      renderStatus();
      setInterval(function () {
        state.tick += 1;
        state.pluginOnline = state.tick % 10 !== 0;
        state.pluginLastSeenMinutes = state.pluginOnline ? ((state.tick % 4) + 1) : 17;
        renderStatus();
      }, 4000);

      const modal = document.getElementById('demo-chat-modal');
      const btn = document.getElementById('demo-chat-btn');
      const closeBtn = document.getElementById('demo-chat-close');
      const sendBtn = document.getElementById('demo-chat-send');
      const input = document.getElementById('demo-chat-input');
      const log = document.getElementById('demo-chat-log');

      function push(text, cls) {
        const el = document.createElement('div');
        el.className = 'chat-msg ' + cls;
        el.textContent = text;
        log.appendChild(el);
        log.scrollTop = log.scrollHeight;
      }

      push('Elora demo assistant online. This is static scripted behavior for GitHub Pages.', 'assistant');

      btn.addEventListener('click', function () { modal.classList.toggle('active'); });
      closeBtn.addEventListener('click', function () { modal.classList.remove('active'); });

      function replyFor(q) {
        const t = q.toLowerCase();
        if (t.includes('status') || t.includes('health')) return 'Status demo reports Operational. Active request level rotates between Idle, Low, and Active.';
        if (t.includes('security') || t.includes('guardrail')) return 'Security demo profile: auth enabled, signed requests, rate limits, audit logs, prompt boundaries, tools disabled by default.';
        if (t.includes('model')) return 'Model demo summary: 4 configured targets, 2 active, 2 standby, with simulated median latency around 412ms.';
        if (t.includes('fabric') || t.includes('worker')) return 'Fabric demo summary: 3 hosts online, 6 workers connected, provisioner configured.';
        return 'I can summarize demo status, security, models, and fabric. No live system access exists in this snapshot.';
      }

      sendBtn.addEventListener('click', function () {
        const text = (input.value || '').trim();
        if (!text) return;
        push(text, 'user');
        input.value = '';
        setTimeout(function () {
          push(replyFor(text), 'assistant');
        }, 220);
      });
    })();
  </script>
</body>
</html>
